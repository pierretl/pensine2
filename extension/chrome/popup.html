<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <title>Infos de la page</title>
    <link rel="stylesheet" href="style.css" />
</head>
<body>

    <div class="flex ai-c gap mb-16">
        <img src="icons/icon48.png" alt="">
        <h1>Pensine</h1>
        <select id="themeSelect" aria-label="Thème">
            <option value="system">System</option>
            <option value="light">Light</option>
            <option value="dark">Dark</option>
        </select>
    </div>

    <nav role="navigation" class="mb-16 flex ai-c gap">
        <ul class="reset flex ai-c gap" role="tablist" aria-label="Onglets">
            <li role="presentation">
                <button class="tab" id="tab1" role="tab" aria-controls="panel1" aria-selected="true" tabindex="0">Ajout</button>
            </li>
            <li role="presentation">
                <button class="tab" id="tab2" role="tab" aria-controls="panel2" aria-selected="false" tabindex="-1">Liste</button>
            </li>
            <li role="presentation">
                <button class="tab" id="tab3" role="tab" aria-controls="panel3" aria-selected="false" tabindex="-1">Config</button>
            </li>
        </ul>
    </nav>

    <!-- Ajouter -->
    <div id="panel1" role="tabpanel" tabindex="0" aria-labelledby="tab1">
        <pre id="log" class="accent"></pre>

        <label for="tagInput">Ajouter un tag :</label>
        <ul id="tagList"></ul>
        <input type="hidden" id="tagIds" name="tagIds" />
        <input type="text" id="tagInput" list="tagSuggestions" class="mb-10">
        <datalist id="tagSuggestions"></datalist>

        <label for="noteInput">Note</label>
        <input type="text" id="noteInput" class="mb-10">

        <label for="faviconUrl">Favicon</label>
        <img id="faviconImg" alt="" src="" width="16" height="16" class="mb-10"/>
        <p id="faviconNotFound" class="mb-10 hide"><span aria-hidden="true">&#9746; </span>Favicon non trouvé</p>

        <input type="hidden" id="faviconUrl">
        <label for="urlInput">URL</label>
        <input type="text" id="urlInput" name="url" disabled class="mb-10">

        <label for="titleInput">Titre</label>
        <input type="text" id="titleInput" name="title" disabled class="mb-10">

        <label for="descInput">Description</label>
        <input type="text" id="descInput" name="description" disabled class="mb-10">

        <label for="screenshotCode">Capture d'écran</label>
        <img id="screenshotImg" alt="" src=""  class="mb-10"/>

        <input type="hidden" id="screenshotCode">
        <button type="button" id="saveButton">Ajouter ce marque page</button>
    </div>

    <!-- Pensine -->
    <div id="panel2" role="tabpanel" tabindex="0" aria-labelledby="tab2" class="hide">
        <p>Espace disponible :</p>
        <progress id="repoSizeProgress" value="0" max="100" style="width: 100%;"></progress>
        <p id="repoSizeLabel" class="mb-16">0</p>
        <button id="reloadPensineContent">Actusaliser la liste</button>
        <div id="pensineContent"></div>
    </div>

    <!-- Config -->
    <div id="panel3" role="tabpanel" tabindex="0" aria-labelledby="tab3" class="hide">
        <label for="userInput">Nom d'utilisateur GitHub</label>
        <input type="text" id="userInput" class="mb-10">

        <label for="repoInput">Nom du dépôt</label>
        <input type="text" id="repoInput" class="mb-10">

        <label for="tokenInput">Token</label>
        <input type="password" id="tokenInput" class="mb-10" />

        <button type="button" id="saveSettings">Enregistrer la configuration</button>
        <button type="button" id="resetGitHubSettings">Réinitialiser la configuration GitHub</button>
        <dialog id="resetGitHubSettingsDialog">
            <form method="dialog">
                <p>Êtes-vous sûr de vouloir supprimer la configuration ?</p>
                <menu>
                    <button type="button" id="resetGitHubSettingsYes" value="yes">Oui, supprimer</button>
                    <button type="button" id="resetGitHubSettingsNo" value="no" autofocus>Annuler</button>
                </menu>
            </form>
        </dialog>

        <pre id="logSettings" class="accent"></pre>
    </div>
    <script type="module" src="popup.js"></script>
</body>
</html>